{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="flash-messages">
            {% for category, message in messages %}
                <div class="flash-message {{ category }}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const flashMessages = document.querySelectorAll(".flash-message");
        
        flashMessages.forEach(function (message) {
            // Start fade out after 3 seconds
            setTimeout(() => {
                message.classList.add("fade-out");
            }, 3000);
            
            // Remove element after fade out animation (after 3.5 seconds)
            setTimeout(() => {
                message.remove();
            }, 3500);
        });
    });
</script>